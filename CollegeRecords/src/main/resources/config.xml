<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean class="com.mysql.cj.jdbc.MysqlDataSource" id="mySqlDS">
        <property name="url" value="jdbc:mysql://localhost:3306/vali_schema" />
        <property name="user" value="vali" />
        <property name="password" value="123456" />
    </bean>
    <bean class="dao.StudentDao">
        <property name="dataSource" ref="mySqlDS" />
        <property name="insert" value="insert into student (nume, grupa, an_studii) values (:nume, :grupa, :anStudii)" />
        <property name="delete" value="delete from student where student_id = :studentId" />
        <property name="update" value="update student set nume = :numeNou, grupa = :grupa where nume = :numeVechi" />
        <property name="query">
            <value>
                <![CDATA[
                    SELECT s.student_id, s.nume, s.grupa grupaS, e.examen_id, e.materie, e.data, e.grupa grupaE, n.nota
                    FROM student s
                    INNER JOIN nota_examen n ON s.student_id = n.student_id
                    INNER JOIN examen e ON n.examen_id = e.examen_id
                    WHERE n.nota < :nota OR n.nota IS NULL
                ]]>
            </value>
        </property>
    </bean>
</beans>